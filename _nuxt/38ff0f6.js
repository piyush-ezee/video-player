(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{341:function(t,e,n){"use strict";n.r(e);var o=n(14),c=(n(76),n(13),n(39),n(41),n(203),n(66),n(68),n(32),n(110),n(67),n(27),{data:function(){return{url:"",hostType:null,mimeType:null,contentId:null,isURLValid:!1,isContentValidated:!1,message:"",contentURL:null,mimeTypes:["video/mp4","video/ogg","video/webm"],apiURL:"https://express-player.herokuapp.com"}},methods:{validateURL:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hostType=null,t.contentURL=null,e.next=4,t.checkHostName(new URL(t.url).hostname);case 4:if(t.hostType=e.sent,t.isURLValid=t.checkURLFormat(),!t.isURLValid){e.next=24;break}if("custom"!==t.hostType){e.next=14;break}return e.next=10,t.checkURLConnectivity(t.url);case 10:t.mimeType=e.sent,t.isContentValidated=t.mimeTypes.includes(t.mimeType),e.next=22;break;case 14:if("youtube"!==t.hostType){e.next=19;break}return e.next=17,t.checkYoutubePermission();case 17:e.next=22;break;case 19:if("gdrive"!==t.hostType){e.next=22;break}return e.next=22,t.checkGDrivePermission();case 22:e.next=25;break;case 24:t.isContentValidated=!1;case 25:case"end":return e.stop()}}),e)})))()},checkHostName:function(t){return!!t&&(t.includes("youtube")||t.includes("youtu.be")?"youtube":t.includes("drive")?"gdrive":"custom")},checkURLFormat:function(){if("youtube"===this.hostType){return this.contentId=this.url.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/)[1],this.url.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/)}return"gdrive"===this.hostType?(this.contentId=this.url.split("/")[5],this.contentURL="https://drive.google.com/file/d/".concat(this.contentId,"/preview"),this.url.match(/^(https:\/\/drive\.google\.com\/)file\/d\/([^]+)\/.*$/)):"custom"===this.hostType?(this.contentURL=this.url,this.url.match(/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\\.-]+)+[\w\-\\._~:/?#[\]@!\\$&'\\(\\)\\*\\+,;=.]+$/)):void 0},checkURLConnectivity:function(t){return this.$axios.get("http://localhost:3001/check-mime?u=".concat(t)).then((function(t){return t.data}))},checkYoutubePermission:function(){var t=this;this.$axios.get("".concat(this.apiURL,"/check-youtube-permissions?contentId=").concat(this.contentId)).then((function(e){e&&0===e.data.items.length||e&&e.data.items.length>0&&("live"===e.data.items[0].snippet.liveBroadcastContent||"upcoming"===e.data.items[0].snippet.liveBroadcastContent)?t.isContentValidated=!1:e&&e.data.items.length>0&&("none"===e.data.items[0].snippet.liveBroadcastContent||"completed"===e.data.items[0].snippet.liveBroadcastContent)?(t.isContentValidated=!0,t.contentURL="https://www.youtube.com/embed/".concat(e.data.items[0].id)):t.isContentValidated=!1})).catch((function(){t.isContentValidated=!1}))},checkGDrivePermission:function(){var t=this;this.$axios.get("".concat(this.apiURL,"/check-gdrive-permissions?contentId=").concat(this.contentId)).then((function(e){t.mimeTypes.includes(e.data.mimeType)?t.isContentValidated=!0:t.isContentValidated=!1})).catch((function(){t.isContentValidated=!1}))}}}),r=n(73),l=n(105),d=n.n(l),h=n(308),m=n(288),v=n(338),y=n(339),w=n(340),component=Object(r.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{attrs:{justify:"center",align:"center"}},[n("v-col",{attrs:{cols:"12",sm:"8",md:"6"}},[n("v-card",[n("v-card-title",{staticClass:"headline mt-5"},[t._v("\n        Video Player\n      ")]),t._v(" "),n("v-card-text",[n("v-text-field",{attrs:{placeholder:"Enter Media URL","append-outer-icon":"mdi-arrow-right"},on:{"click:append-outer":t.validateURL},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}}),t._v(" "),t.isContentValidated?n("div",[["youtube","gdrive"].includes(t.hostType)?[n("iframe",{attrs:{src:t.contentURL,width:"550",height:"250",allow:"Content-Security-Policy: frame-ancestors 'none'; accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:"",autoplay:""}})]:"custom"===t.hostType?[n("video",{attrs:{width:"550",height:"250",autoplay:"",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:"",src:t.contentURL}})]:t._e()],2):n("div",[t._v("\n          Invalid URL\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;d()(component,{VCard:h.a,VCardText:m.a,VCardTitle:m.b,VCol:v.a,VRow:y.a,VTextField:w.a})}}]);