(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{358:function(t,e,n){"use strict";n.r(e);var o=n(14),c=(n(76),n(13),n(39),n(41),n(203),n(66),n(69),n(32),n(110),n(67),n(27),{data:function(){return{url:"",hostType:null,mimeType:null,contentId:null,isURLValid:!1,isContentValidated:!1,message:"",contentURL:null,mimeTypes:["video/mp4","video/ogg","video/webm"],apiURL:"https://express-player.herokuapp.com"}},methods:{validateURL:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hostType=null,t.contentURL=null,t.isContentValidated=!1,e.next=5,t.checkHostName(new URL(t.url).hostname);case 5:if(t.hostType=e.sent,t.isURLValid=t.checkURLFormat(),!t.isURLValid){e.next=25;break}if("custom"!==t.hostType){e.next=15;break}return e.next=11,t.checkURLConnectivity(t.url);case 11:t.mimeType=e.sent,t.isContentValidated=t.mimeTypes.includes(t.mimeType),e.next=23;break;case 15:if("youtube"!==t.hostType){e.next=20;break}return e.next=18,t.checkYoutubePermission();case 18:e.next=23;break;case 20:if("gdrive"!==t.hostType){e.next=23;break}return e.next=23,t.checkGDrivePermission();case 23:e.next=26;break;case 25:t.isContentValidated=!1;case 26:case"end":return e.stop()}}),e)})))()},checkHostName:function(t){return!!t&&(t.includes("youtube")||t.includes("youtu.be")?"youtube":t.includes("drive")?"gdrive":"custom")},checkURLFormat:function(){if("youtube"===this.hostType){var t=this.url.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/);return this.contentId=t?t[1]:null,this.url.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/)}if("gdrive"===this.hostType){var e=this.url.split("/")[5];return this.contentId=e||null,this.url.match(/^(https:\/\/drive\.google\.com\/)file\/d\/([^]+)\/.*$/)}if("custom"===this.hostType)return this.contentURL=this.url,this.url.match(/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\\.-]+)+[\w\-\\._~:/?#[\]@!\\$&'\\(\\)\\*\\+,;=.]+$/)},checkURLConnectivity:function(t){return this.$axios.get("".concat(this.apiURL,"/check-mime?u=").concat(t)).then((function(t){return t.data}))},checkYoutubePermission:function(){var t=this;this.$axios.get("".concat(this.apiURL,"/check-youtube-permissions?contentId=").concat(this.contentId)).then((function(e){e&&0===e.data.items.length||e&&e.data.items.length>0&&("live"===e.data.items[0].snippet.liveBroadcastContent||"upcoming"===e.data.items[0].snippet.liveBroadcastContent)?t.isContentValidated=!1:e&&e.data.items.length>0&&("none"===e.data.items[0].snippet.liveBroadcastContent||"completed"===e.data.items[0].snippet.liveBroadcastContent)?(t.isContentValidated=!0,t.contentURL="https://www.youtube.com/embed/".concat(e.data.items[0].id)):t.isContentValidated=!1})).catch((function(){t.isContentValidated=!1}))},checkGDrivePermission:function(){var t=this;this.$axios.get("".concat(this.apiURL,"/check-gdrive-permissions?contentId=").concat(this.contentId)).then((function(e){t.mimeTypes.includes(e.data.mimeType)?(t.contentURL=e.data.gURL,t.isContentValidated=!0):t.isContentValidated=!1})).catch((function(){t.isContentValidated=!1}))}}}),r=n(73),l=n(105),d=n.n(l),h=n(359),v=n(299),m=n(287),w=n(352),y=n(353),f=n(354),C=n(355),component=Object(r.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{attrs:{justify:"center",align:"center"}},[n("v-col",{attrs:{cols:"5",md:"5"}},[n("div",{staticClass:"mt-5"},[n("h4",{staticClass:"success--text"},[t._v("\n        Valid URLs\n      ")]),t._v(" "),n("ul",{staticClass:"mt-2"},[n("li",[t._v("https://www.youtube.com/watch?v=668nUCeBHyY")]),t._v(" "),n("li",[t._v("\n          https://drive.google.com/file/d/1z3POmLuS12FLC0_hksEdVZQWi1gDJ_im/view?usp=sharing\n        ")]),t._v(" "),n("li",[t._v("\n          https://www.cdc.gov/coronavirus/2019-ncov/videos/psa-side-effects/tnq1000-testimony-mateo-15-safety-en-v01_lowres.mp4\n        ")])]),t._v(" "),n("h4",{staticClass:"error--text mt-2"},[t._v("\n        Invalid/InAccessible URLs\n      ")]),t._v(" "),n("ul",{staticClass:"mt-2"},[n("li",[t._v("https://www.youtube.com/watch?v=yijs5GqmgBU")]),t._v(" "),n("li",[t._v("\n          https://drive.google.com/file/d/12NQ9B5pcrMSTHA08ey4s4z8GBA4qXwDj/view?usp=sharing\n        ")]),t._v(" "),n("li",[t._v("\n          https://www.cdc.gov/coronavirus/2019-ncov/videos/psa-side-effects/tnq1000-testimony-mateo-15-safety-en-v01_lowres.mp\n        ")])])])]),t._v(" "),n("v-col",{attrs:{cols:"7",md:"7"}},[n("v-card",[n("v-card-title",{staticClass:"headline mt-5"},[t._v("\n        Video Player\n      ")]),t._v(" "),n("v-card-text",[n("v-text-field",{attrs:{placeholder:"Enter Media URL","append-outer-icon":"mdi-arrow-right"},on:{"click:append-outer":t.validateURL},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}}),t._v(" "),t.isContentValidated?n("div",["youtube"===t.hostType?[n("iframe",{attrs:{src:t.contentURL,width:"550",height:"250",allow:"Content-Security-Policy: frame-ancestors 'none'; accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:"",autoplay:""}})]:"gdrive"===t.hostType?[n("video",{attrs:{width:"550",height:"250",controls:"",autoplay:""}},[n("source",{attrs:{src:t.contentURL}})])]:"custom"===t.hostType?[n("video",{attrs:{width:"550",height:"250",autoplay:"",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:"",src:t.contentURL}})]:t._e()],2):n("div",[t._v("\n          Invalid URL\n        ")])],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"primary",attrs:{to:"/preview"}},[t._v("\n          Preview Player\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;d()(component,{VBtn:h.a,VCard:v.a,VCardActions:m.a,VCardText:m.b,VCardTitle:m.c,VCol:w.a,VRow:y.a,VSpacer:f.a,VTextField:C.a})}}]);